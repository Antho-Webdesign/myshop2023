{% extends "shop/base.html" %}

{% block content %}
<style>
.card {
    width: 66%;
    display: flex;
    justify-content: center;
    margin: auto;
    background: transparent;
    border: none
}
.card-body {
      flex-direction: column;
      width: 50%;
      display: flex;
      margin: auto;
    }

    .box-btn {
      display: flex;
      justify-content: space-around;
    }

    .box-product {
      display: flex;
      width: 100%;
      flex-direction: row;
      flex-wrap: wrap;
      justify-content: space-around;
    }

    .content-box-product {
      display: flex;
      width: 33%;
      margin: auto;
    }

    img {
        width: 66%;
        margin: auto;
    }

    button.btn {
      width: 15%;
    }

@media screen and (min-width: 251px) and (max-width: 950px) {
    .card {
        width: 90% !important;
        display: flex;
        justify-content: center;
        margin: auto;
        background: transparent;
        border: none;
    }

    .box-product {
        display: flex;
        width: 100%;
        flex-direction: row;
        flex-wrap: wrap;
        justify-content: space-around;
    }

    .content-box-product {
        width: 100% !important;
        margin: 0;
    }

}
</style>
<!-- Search Bar -->
{% include 'shop/search-bar.html' %}
{% block search %}
{% endblock %}

<div class="box-product">

    {% for product in page_obj %}
    <div class="content-box-product">
        <div class="card">
            <div id="aa{{ product.id }}" class="card-title">
                <p class="radius-10 text-center fs-5 fst-italic text-info bg-gradient"> {{ product.marque_produit }}</p>
                <h1 class="text-center product-title radius-10 text-light fw-semibold">{{ product.name }}</h1>
            </div>

            <img src="{{ product.image.url }}" alt="" class="card-ing-top" style="width: 66%;margin: auto;">

            <div class="card-body">
                <div id="price price{{ product.id }}" class="card-text mb-5 fw-bold fs-3 text-center text-danger">
                    Prix (ttc): 
                    <br>
                    {{ product.ttc_price|floatformat:2 }} €
                </div>
                
                <div class="box-btn">

                    <div class="btn-left-index">
                        <a href="{% url 'detail' product.slug %}" class="btn btn-warning">Détails</a>
                    </div>

                    {% if user.is_authenticated %}
                    <div class="btn-right-index">
                        <a href="{% url 'add_to_cart' product.slug %}" class="btn btn-success">Acheter</a>
                    </div>
                    {% else %}

                    {% endif %}

                </div>
            </div>

        </div>
    </div>
    {% endfor %}
</div>

<!-- include pagination.html -->
{% include 'shop/pagination.html' %}
{% block pagination %}
{% endblock %}

{% endblock %}